\definecolor{CommentColor}{rgb}{.25, .4, .16}
\definecolor{StringColor}{rgb}{1, 0, 0}
\definecolor{KeywordColor}{rgb}{0, 0, 0}
\definecolor{BkgColor}{rgb}{1, 1, 1}

\lstdefinelanguage{slangmath}{
  keywords={view, data, mods, exports, invokes, stores, cons, args, fields},
  literate=%
    {-|->}{$\pfun$}1
    {::}{$\bullet$}2
    {:=}{$:$$=$}2
    {!}{$\lnot$}1
    {!!}{$\not\cap$}1
    {=}{$=$}1
    {==}{$=$}1
    {!=}{$\neq$}1
    {&&}{$\land$}1
    {||}{$\lor$}1
    {<=}{$\le$}1
    {>=}{$\ge$}1
    % the following isn't actually Jennisys, but it gives the option to produce nicer latex
    {|=>}{$\Rightarrow$}2
    {<=set}{$\subseteq$}1
    {+set}{$\cup$}1
    {*set}{$\cap$}1
    {==>}{$\Longrightarrow$}3 
    {=>}{$\Rightarrow$}2
    {<==>}{$\Longleftrightarrow$}4 
    {forall}{$\forall$}1
    {exists}{$\exists$}1
    {!in}{$\not\in$}1
    {\\in}{$\in$}1
    {...}{$\ldots$}1
    {\\alpha}{$\alpha$}1
    {\\beta}{$\beta$}1
    {\\gamma}{$\gamma$}1
    {\\delta}{$\delta$}1
    {\\epsilon}{$\epsilon$}1
    {\\zeta}{$\zeta$}1
    {\\eta}{$\eta$}1
    {\\theta}{$\theta$}1
    {\\iota}{$\iota$}1
    {\\kappa}{$\kappa$}1
    {\\lambda}{$\lambda$}1
    {\\mu}{$\mu$}1
    {\\nu}{$\nu$}1
    {\\xi}{$\xi$}1
    {\\pi}{$\pi$}1
    {\\rho}{$\rho$}1
    {\\sigma}{$\sigma$}1
    {\\tau}{$\tau$}1
    {\\upsilon}{$\upsilon$}1
    {\\phi}{$\phi$}1
    {\\chi}{$\chi$}1
    {\\psi}{$\psi$}1
    {\\omega}{$\omega$}1
    {\\Gamma}{$\Gamma$}1
    {\\Delta}{$\Delta$}1
    {\\Theta}{$\Theta$}1
    {\\Lambda}{$\Lambda$}1
    {\\Xi}{$\Xi$}1
    {\\Pi}{$\Pi$}1
    {\\Sigma}{$\Sigma$}1
    {\\Upsilon}{$\Upsilon$}1
    {\\Phi}{$\Phi$}1
    {\\Psi}{$\Psi$}1
    {\\Omega}{$\Omega$}1
    ,
  sensitive=true,  % case sensitive
  mathescape=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  showstringspaces=false, 
  numbers=none,
  firstnumber=0,
  numberstyle=\tiny,
  showspaces=false,
  basicstyle=\small\sffamily,
  commentstyle=\itshape\color{CommentColor},
  keywordstyle=\itshape\color{KeywordColor},
  stringstyle=\itshape\color{StringColor},
  ndkeywordstyle=\bfseries,
  morestring=[b]',
  morestring=[b]",
}
\lstnewenvironment{slangmath}[1][]{%
  \lstset{language=slangmath,
    floatplacement={tbp},captionpos=b,
    xleftmargin=0pt,xrightmargin=0pt,#1}}{}
\newcommand{\slangmathfile}[1]{
  \lstinputlisting[language=slangmath,%
    frame=lines,xleftmargin=0pt,xrightmargin=0pt,columns=fixed]{#1}
}
